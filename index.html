<form action="/create-checkout-session" method="POST" id="donationForm">
  <select name="amount" id="amountSelect" required>
    <option value="500">$5 USD</option>
    <option value="1000">$10 USD</option>
    <option value="2000">$20 USD</option>
    <option value="5000">$50 USD</option>
    <option value="custom">Lòt montan...</option>
  </select>
  <input type="number" id="customAmount" name="customAmount" min="1" step="1" placeholder="Antre montan an USD" style="display:none; margin-top:12px;">
  <br>
  <button class="btn-donate" type="submit">Fè donasyon kounya</button>
</form>
<script>
  // JavaScript pou montre champ "custom amount" si "Lòt montan" chwazi
  const amountSelect = document.getElementById('amountSelect');
  const customInput = document.getElementById('customAmount');
  const form = document.getElementById('donationForm');
  amountSelect.addEventListener('change', function() {
    if (this.value === 'custom') {
      customInput.style.display = 'inline-block';
      customInput.required = true;
    } else {
      customInput.style.display = 'none';
      customInput.required = false;
    }
  });
  // Pou asire form lan voye bon montan
  form.addEventListener('submit', function(e) {
    if (amountSelect.value === 'custom') {
      // Montan Stripe vle, se an santim (pa dola!)
      let value = Math.round(parseFloat(customInput.value) * 100);
      if (isNaN(value) || value < 100) { // $1 min
        alert("Antre yon montan ki pi gran ke $1");
        e.preventDefault();
        return false;
      }
      // Ajiste valè ki voye a
      amountSelect.value = value;
    }
  });
</script>
